(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{41:function(e,t,a){},45:function(e,t,a){e.exports=a(77)},50:function(e,t,a){},74:function(e,t,a){var n={"./prism-abap.js":[78,3],"./prism-abap.min.js":[79,4],"./prism-abnf.js":[80,5],"./prism-abnf.min.js":[81,6],"./prism-actionscript.js":[82,7],"./prism-actionscript.min.js":[83,8],"./prism-ada.js":[84,9],"./prism-ada.min.js":[85,10],"./prism-antlr4.js":[86,11],"./prism-antlr4.min.js":[87,12],"./prism-apacheconf.js":[88,13],"./prism-apacheconf.min.js":[89,14],"./prism-apl.js":[90,15],"./prism-apl.min.js":[91,16],"./prism-applescript.js":[92,17],"./prism-applescript.min.js":[93,18],"./prism-aql.js":[94,19],"./prism-aql.min.js":[95,20],"./prism-arduino.js":[96,21],"./prism-arduino.min.js":[97,22],"./prism-arff.js":[98,23],"./prism-arff.min.js":[99,24],"./prism-asciidoc.js":[100,25],"./prism-asciidoc.min.js":[101,26],"./prism-asm6502.js":[102,27],"./prism-asm6502.min.js":[103,28],"./prism-aspnet.js":[104,29],"./prism-aspnet.min.js":[105,30],"./prism-autohotkey.js":[106,31],"./prism-autohotkey.min.js":[107,32],"./prism-autoit.js":[108,33],"./prism-autoit.min.js":[109,34],"./prism-bash.js":[110,35],"./prism-bash.min.js":[111,36],"./prism-basic.js":[112,37],"./prism-basic.min.js":[113,38],"./prism-batch.js":[114,39],"./prism-batch.min.js":[115,40],"./prism-bbcode.js":[116,41],"./prism-bbcode.min.js":[117,42],"./prism-bison.js":[118,43],"./prism-bison.min.js":[119,44],"./prism-bnf.js":[120,45],"./prism-bnf.min.js":[121,46],"./prism-brainfuck.js":[122,47],"./prism-brainfuck.min.js":[123,48],"./prism-brightscript.js":[124,49],"./prism-brightscript.min.js":[125,50],"./prism-bro.js":[126,51],"./prism-bro.min.js":[127,52],"./prism-c.js":[128,53],"./prism-c.min.js":[129,54],"./prism-cil.js":[130,55],"./prism-cil.min.js":[131,56],"./prism-clike.js":[132,57],"./prism-clike.min.js":[133,58],"./prism-clojure.js":[134,59],"./prism-clojure.min.js":[135,60],"./prism-cmake.js":[136,61],"./prism-cmake.min.js":[137,62],"./prism-coffeescript.js":[138,63],"./prism-coffeescript.min.js":[139,64],"./prism-concurnas.js":[140,65],"./prism-concurnas.min.js":[141,66],"./prism-core.js":[142,67],"./prism-core.min.js":[143,68],"./prism-cpp.js":[144,69],"./prism-cpp.min.js":[145,70],"./prism-crystal.js":[146,71],"./prism-crystal.min.js":[147,72],"./prism-csharp.js":[148,73],"./prism-csharp.min.js":[149,74],"./prism-csp.js":[150,75],"./prism-csp.min.js":[151,76],"./prism-css-extras.js":[152,77],"./prism-css-extras.min.js":[153,78],"./prism-css.js":[154,79],"./prism-css.min.js":[155,80],"./prism-d.js":[156,81],"./prism-d.min.js":[157,82],"./prism-dart.js":[158,83],"./prism-dart.min.js":[159,84],"./prism-dax.js":[160,85],"./prism-dax.min.js":[161,86],"./prism-diff.js":[162,87],"./prism-diff.min.js":[163,88],"./prism-django.js":[164,89],"./prism-django.min.js":[165,90],"./prism-dns-zone-file.js":[166,91],"./prism-dns-zone-file.min.js":[167,92],"./prism-docker.js":[168,93],"./prism-docker.min.js":[169,94],"./prism-ebnf.js":[170,95],"./prism-ebnf.min.js":[171,96],"./prism-eiffel.js":[172,97],"./prism-eiffel.min.js":[173,98],"./prism-ejs.js":[174,99],"./prism-ejs.min.js":[175,100],"./prism-elixir.js":[176,101],"./prism-elixir.min.js":[177,102],"./prism-elm.js":[178,103],"./prism-elm.min.js":[179,104],"./prism-erb.js":[180,105],"./prism-erb.min.js":[181,106],"./prism-erlang.js":[182,107],"./prism-erlang.min.js":[183,108],"./prism-etlua.js":[184,109],"./prism-etlua.min.js":[185,110],"./prism-excel-formula.js":[186,111],"./prism-excel-formula.min.js":[187,112],"./prism-factor.js":[188,113],"./prism-factor.min.js":[189,114],"./prism-firestore-security-rules.js":[190,115],"./prism-firestore-security-rules.min.js":[191,116],"./prism-flow.js":[192,117],"./prism-flow.min.js":[193,118],"./prism-fortran.js":[194,119],"./prism-fortran.min.js":[195,120],"./prism-fsharp.js":[196,121],"./prism-fsharp.min.js":[197,122],"./prism-ftl.js":[198,123],"./prism-ftl.min.js":[199,124],"./prism-gcode.js":[200,125],"./prism-gcode.min.js":[201,126],"./prism-gdscript.js":[202,127],"./prism-gdscript.min.js":[203,128],"./prism-gedcom.js":[204,129],"./prism-gedcom.min.js":[205,130],"./prism-gherkin.js":[206,131],"./prism-gherkin.min.js":[207,132],"./prism-git.js":[208,133],"./prism-git.min.js":[209,134],"./prism-glsl.js":[210,135],"./prism-glsl.min.js":[211,136],"./prism-gml.js":[212,137],"./prism-gml.min.js":[213,138],"./prism-go.js":[214,139],"./prism-go.min.js":[215,140],"./prism-graphql.js":[216,141],"./prism-graphql.min.js":[217,142],"./prism-groovy.js":[218,143],"./prism-groovy.min.js":[219,144],"./prism-haml.js":[220,145],"./prism-haml.min.js":[221,146],"./prism-handlebars.js":[222,147],"./prism-handlebars.min.js":[223,148],"./prism-haskell.js":[224,149],"./prism-haskell.min.js":[225,150],"./prism-haxe.js":[226,151],"./prism-haxe.min.js":[227,152],"./prism-hcl.js":[228,153],"./prism-hcl.min.js":[229,154],"./prism-hpkp.js":[230,155],"./prism-hpkp.min.js":[231,156],"./prism-hsts.js":[232,157],"./prism-hsts.min.js":[233,158],"./prism-http.js":[234,159],"./prism-http.min.js":[235,160],"./prism-ichigojam.js":[236,161],"./prism-ichigojam.min.js":[237,162],"./prism-icon.js":[238,163],"./prism-icon.min.js":[239,164],"./prism-inform7.js":[240,165],"./prism-inform7.min.js":[241,166],"./prism-ini.js":[242,167],"./prism-ini.min.js":[243,168],"./prism-io.js":[244,169],"./prism-io.min.js":[245,170],"./prism-j.js":[246,171],"./prism-j.min.js":[247,172],"./prism-java.js":[248,173],"./prism-java.min.js":[249,174],"./prism-javadoc.js":[250,175],"./prism-javadoc.min.js":[251,176],"./prism-javadoclike.js":[252,177],"./prism-javadoclike.min.js":[253,178],"./prism-javascript.js":[254,179],"./prism-javascript.min.js":[255,180],"./prism-javastacktrace.js":[256,181],"./prism-javastacktrace.min.js":[257,182],"./prism-jolie.js":[258,183],"./prism-jolie.min.js":[259,184],"./prism-jq.js":[260,185],"./prism-jq.min.js":[261,186],"./prism-js-extras.js":[262,187],"./prism-js-extras.min.js":[263,188],"./prism-js-templates.js":[264,189],"./prism-js-templates.min.js":[265,190],"./prism-jsdoc.js":[266,191],"./prism-jsdoc.min.js":[267,192],"./prism-json.js":[268,193],"./prism-json.min.js":[269,194],"./prism-json5.js":[270,195],"./prism-json5.min.js":[271,196],"./prism-jsonp.js":[272,197],"./prism-jsonp.min.js":[273,198],"./prism-jsx.js":[274,199],"./prism-jsx.min.js":[275,200],"./prism-julia.js":[276,201],"./prism-julia.min.js":[277,202],"./prism-keyman.js":[278,203],"./prism-keyman.min.js":[279,204],"./prism-kotlin.js":[280,205],"./prism-kotlin.min.js":[281,206],"./prism-latex.js":[282,207],"./prism-latex.min.js":[283,208],"./prism-latte.js":[284,209],"./prism-latte.min.js":[285,210],"./prism-less.js":[286,211],"./prism-less.min.js":[287,212],"./prism-lilypond.js":[288,213],"./prism-lilypond.min.js":[289,214],"./prism-liquid.js":[290,215],"./prism-liquid.min.js":[291,216],"./prism-lisp.js":[292,217],"./prism-lisp.min.js":[293,218],"./prism-livescript.js":[294,219],"./prism-livescript.min.js":[295,220],"./prism-llvm.js":[296,221],"./prism-llvm.min.js":[297,222],"./prism-lolcode.js":[298,223],"./prism-lolcode.min.js":[299,224],"./prism-lua.js":[300,225],"./prism-lua.min.js":[301,226],"./prism-makefile.js":[302,227],"./prism-makefile.min.js":[303,228],"./prism-markdown.js":[304,229],"./prism-markdown.min.js":[305,230],"./prism-markup-templating.js":[306,231],"./prism-markup-templating.min.js":[307,232],"./prism-markup.js":[308,233],"./prism-markup.min.js":[309,234],"./prism-matlab.js":[310,235],"./prism-matlab.min.js":[311,236],"./prism-mel.js":[312,237],"./prism-mel.min.js":[313,238],"./prism-mizar.js":[314,239],"./prism-mizar.min.js":[315,240],"./prism-monkey.js":[316,241],"./prism-monkey.min.js":[317,242],"./prism-moonscript.js":[318,243],"./prism-moonscript.min.js":[319,244],"./prism-n1ql.js":[320,245],"./prism-n1ql.min.js":[321,246],"./prism-n4js.js":[322,247],"./prism-n4js.min.js":[323,248],"./prism-nand2tetris-hdl.js":[324,249],"./prism-nand2tetris-hdl.min.js":[325,250],"./prism-nasm.js":[326,251],"./prism-nasm.min.js":[327,252],"./prism-neon.js":[328,253],"./prism-neon.min.js":[329,254],"./prism-nginx.js":[330,255],"./prism-nginx.min.js":[331,256],"./prism-nim.js":[332,257],"./prism-nim.min.js":[333,258],"./prism-nix.js":[334,259],"./prism-nix.min.js":[335,260],"./prism-nsis.js":[336,261],"./prism-nsis.min.js":[337,262],"./prism-objectivec.js":[338,263],"./prism-objectivec.min.js":[339,264],"./prism-ocaml.js":[340,265],"./prism-ocaml.min.js":[341,266],"./prism-opencl.js":[342,267],"./prism-opencl.min.js":[343,268],"./prism-oz.js":[344,269],"./prism-oz.min.js":[345,270],"./prism-parigp.js":[346,271],"./prism-parigp.min.js":[347,272],"./prism-parser.js":[348,273],"./prism-parser.min.js":[349,274],"./prism-pascal.js":[350,275],"./prism-pascal.min.js":[351,276],"./prism-pascaligo.js":[352,277],"./prism-pascaligo.min.js":[353,278],"./prism-pcaxis.js":[354,279],"./prism-pcaxis.min.js":[355,280],"./prism-perl.js":[356,281],"./prism-perl.min.js":[357,282],"./prism-php-extras.js":[358,283],"./prism-php-extras.min.js":[359,284],"./prism-php.js":[360,285],"./prism-php.min.js":[361,286],"./prism-phpdoc.js":[362,287],"./prism-phpdoc.min.js":[363,288],"./prism-plsql.js":[364,289],"./prism-plsql.min.js":[365,290],"./prism-powerquery.js":[366,291],"./prism-powerquery.min.js":[367,292],"./prism-powershell.js":[368,293],"./prism-powershell.min.js":[369,294],"./prism-processing.js":[370,295],"./prism-processing.min.js":[371,296],"./prism-prolog.js":[372,297],"./prism-prolog.min.js":[373,298],"./prism-properties.js":[374,299],"./prism-properties.min.js":[375,300],"./prism-protobuf.js":[376,301],"./prism-protobuf.min.js":[377,302],"./prism-pug.js":[378,303],"./prism-pug.min.js":[379,304],"./prism-puppet.js":[380,305],"./prism-puppet.min.js":[381,306],"./prism-pure.js":[382,307],"./prism-pure.min.js":[383,308],"./prism-python.js":[384,309],"./prism-python.min.js":[385,310],"./prism-q.js":[386,311],"./prism-q.min.js":[387,312],"./prism-qml.js":[388,313],"./prism-qml.min.js":[389,314],"./prism-qore.js":[390,315],"./prism-qore.min.js":[391,316],"./prism-r.js":[392,317],"./prism-r.min.js":[393,318],"./prism-reason.js":[394,319],"./prism-reason.min.js":[395,320],"./prism-regex.js":[396,321],"./prism-regex.min.js":[397,322],"./prism-renpy.js":[398,323],"./prism-renpy.min.js":[399,324],"./prism-rest.js":[400,325],"./prism-rest.min.js":[401,326],"./prism-rip.js":[402,327],"./prism-rip.min.js":[403,328],"./prism-roboconf.js":[404,329],"./prism-roboconf.min.js":[405,330],"./prism-robotframework.js":[406,331],"./prism-robotframework.min.js":[407,332],"./prism-ruby.js":[408,333],"./prism-ruby.min.js":[409,334],"./prism-rust.js":[410,335],"./prism-rust.min.js":[411,336],"./prism-sas.js":[412,337],"./prism-sas.min.js":[413,338],"./prism-sass.js":[414,339],"./prism-sass.min.js":[415,340],"./prism-scala.js":[416,341],"./prism-scala.min.js":[417,342],"./prism-scheme.js":[418,343],"./prism-scheme.min.js":[419,344],"./prism-scss.js":[420,345],"./prism-scss.min.js":[421,346],"./prism-shell-session.js":[422,347],"./prism-shell-session.min.js":[423,348],"./prism-smalltalk.js":[424,349],"./prism-smalltalk.min.js":[425,350],"./prism-smarty.js":[426,351],"./prism-smarty.min.js":[427,352],"./prism-solidity.js":[428,353],"./prism-solidity.min.js":[429,354],"./prism-solution-file.js":[430,355],"./prism-solution-file.min.js":[431,356],"./prism-soy.js":[432,357],"./prism-soy.min.js":[433,358],"./prism-sparql.js":[434,359],"./prism-sparql.min.js":[435,360],"./prism-splunk-spl.js":[436,361],"./prism-splunk-spl.min.js":[437,362],"./prism-sqf.js":[438,363],"./prism-sqf.min.js":[439,364],"./prism-sql.js":[440,365],"./prism-sql.min.js":[441,366],"./prism-stylus.js":[442,367],"./prism-stylus.min.js":[443,368],"./prism-swift.js":[444,369],"./prism-swift.min.js":[445,370],"./prism-t4-cs.js":[446,371],"./prism-t4-cs.min.js":[447,372],"./prism-t4-templating.js":[448,373],"./prism-t4-templating.min.js":[449,374],"./prism-t4-vb.js":[450,375],"./prism-t4-vb.min.js":[451,376],"./prism-tap.js":[452,377],"./prism-tap.min.js":[453,378],"./prism-tcl.js":[454,379],"./prism-tcl.min.js":[455,380],"./prism-textile.js":[456,381],"./prism-textile.min.js":[457,382],"./prism-toml.js":[458,383],"./prism-toml.min.js":[459,384],"./prism-tsx.js":[460,385],"./prism-tsx.min.js":[461,386],"./prism-tt2.js":[462,387],"./prism-tt2.min.js":[463,388],"./prism-turtle.js":[464,389],"./prism-turtle.min.js":[465,390],"./prism-twig.js":[466,391],"./prism-twig.min.js":[467,392],"./prism-typescript.js":[468,393],"./prism-typescript.min.js":[469,394],"./prism-vala.js":[470,395],"./prism-vala.min.js":[471,396],"./prism-vbnet.js":[472,397],"./prism-vbnet.min.js":[473,398],"./prism-velocity.js":[474,399],"./prism-velocity.min.js":[475,400],"./prism-verilog.js":[476,401],"./prism-verilog.min.js":[477,402],"./prism-vhdl.js":[478,403],"./prism-vhdl.min.js":[479,404],"./prism-vim.js":[480,405],"./prism-vim.min.js":[481,406],"./prism-visual-basic.js":[482,407],"./prism-visual-basic.min.js":[483,408],"./prism-wasm.js":[484,409],"./prism-wasm.min.js":[485,410],"./prism-wiki.js":[486,411],"./prism-wiki.min.js":[487,412],"./prism-xeora.js":[488,413],"./prism-xeora.min.js":[489,414],"./prism-xojo.js":[490,415],"./prism-xojo.min.js":[491,416],"./prism-xquery.js":[492,417],"./prism-xquery.min.js":[493,418],"./prism-yaml.js":[494,419],"./prism-yaml.min.js":[495,420],"./prism-zig.js":[496,421],"./prism-zig.min.js":[497,422]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=74,e.exports=r},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(42),o=a.n(s),i=a(1),l=a(7),m=a(19),c=(a(50),a(3)),d=a.n(c),u=r.a.createContext({hcDone:!1,platform:"",git:"",node:"",globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]});console.log("production");var p=window.location.port,g="".concat("http","://").concat(window.location.hostname,":").concat(p,"/").concat("gitconvexapi"),f=a(510),b=a(511),x=a(512);function h(e){var t=[{link:"/dashboard/repository",icon:r.a.createElement(f.a,{style:{color:"grey",fontSize:"36px"}}),label:"Repositories"},{link:"/dashboard/settings",icon:r.a.createElement(b.a,{style:{color:"grey",fontSize:"36px"}}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(x.a,{style:{color:"grey",fontSize:"36px"}}),label:"Help"}];return r.a.createElement("div",{className:"dashboard-leftpane xl:block lg:block md:flex md:justify-between bg-white overflow-auto xl:w-1/4 lg:w-1/3 md:w-full top-0 left-0 right-0 shadow-md block p-3 bg-white-400"},r.a.createElement("div",{className:"flex justify-center items-center bg-blue-100 cursor-pointer",onClick:function(t){e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"block dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono xl:text-3xl lg:text-2xl md:text-3xl sm:text-2xl p-4"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"xl:mt-32 lg:mt-24 cursor-pointer xl:block lg:block md:flex sm:block items-center align-middle"},t.map((function(e){return r.a.createElement(m.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"flex border-b border-black-100 p-3 hover:bg-gray-100 mx-2",key:e.label},r.a.createElement("div",{className:"flex align-middle items-center my-auto"},r.a.createElement("div",{className:"text-sm"},e.icon),r.a.createElement("div",{className:"ml-2 xl:text-2xl lg:text-2xl md:text-xl text-gray-700"},e.label)))}))))}function j(e){var t=Object(n.useContext)(u),a=t.state,s=t.dispatch,o=Object(n.useState)(""),l=Object(i.a)(o,2),m=l[0],c=l[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)(!1),j=Object(i.a)(h,2),v=j[0],E=j[1],y=Object(n.useState)(!1),N=Object(i.a)(y,2),w=N[0],k=N[1],O=Object(n.useRef)(),C=Object(n.useRef)(),S=Object(n.useRef)();function T(){E(!1),k(!1)}return r.a.createElement("div",{className:"block text-center justify-center my-20 p-6 rounded-lg shadow-md border-2 border-gray-200 xl:w-1/2 lg:w-2/3 md:w-3/4 sm:w-11/12 w-11/12 mx-auto"},r.a.createElement("div",{className:"repo-form block"},w?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-green-500 bg-green-200 text-xl text-green-800 text-center"},"New repo added"):v?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-red-500 bg-red-200 text-xl text-red-800 text-center"},"Process failed! Please try again"):null,r.a.createElement("div",{className:"my-3 text-center block text-3xl font-sans text-gray-800"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{id:"repoNameText",type:"text",placeholder:"Enter a Repository Name",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){c(e.target.value)},ref:O,onClick:function(){T()}})),r.a.createElement("div",null,r.a.createElement("input",{id:"repoPathText",type:"text",placeholder:"Enter repository path",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){x(e.target.value)},ref:C,onClick:function(){T()}})),r.a.createElement("div",{className:"cursor-pointer my-4"},r.a.createElement("input",{id:"initCheck",type:"checkbox",value:"initRepo",ref:S}),r.a.createElement("label",{htmlFor:"initCheck",className:"mx-2 text-gray-700 font-sans font-semibold"},"Check this if the folder is not a git repo")),r.a.createElement("div",{className:"flex w-11/12 justify-start mx-auto my-5 cursor-pointer"},r.a.createElement("div",{className:"my-2 w-1/2 block mx-3 p-3 bg-red-400 rounded-md shadow-md hover:bg-red-500",id:"addRepoClose",onClick:function(){e.formEnable(!1)}},"Close"),r.a.createElement("div",{className:"block w-1/2 mx-3 p-3 my-2 bg-green-400 rounded-md shadow-md hover:bg-green-500",id:"addRepoSubmit",onClick:function(){!function(e,t){if(e&&t){var n=!1;S.current.checked&&(n=!0);var r=JSON.stringify(JSON.stringify({repoName:e,repoPath:t,initCheck:n}));d()({url:g,method:"POST",data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("ADD_REPO",'", payload: ').concat(r,"){\n                  addRepo{\n                    message\n                  }\n                }\n              }\n            ")}}).then((function(e){if(e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.addRepo.message;t&&!t.match(/FAIL/g)?(k(!0),E(!1),O.current.value="",C.current.value="",S.current.value="",s({action:"DELETE_PRESENT_REPO",payload:[]}),console.log(a.presentRepo)):(E(!0),k(!1))}else E(!0),k(!1)})).catch((function(e){console.log(e)}))}else E(!0)}(m,b)}},"Submit"))))}var v=a(8),E=a(11),y=a(14),N=a(6);function w(e){v.b.add(E.a,y.a);var t=e.repoData,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1];Object(n.useEffect)((function(){var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t})),n=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:n.token,data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){l(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){})),function(){n.cancel()}}),[e]);var c=t.repoName,u="";if(c)if(c.split(" ").length>1){var p=c.split(" ");u=(u=p[0].substring(0,1)+p[1].substring(0,1)).toUpperCase()}else u=c.substring(0,1).toUpperCase();return r.a.createElement(m.b,{to:"/dashboard/repository/".concat(t.id),className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 mx-6 rounded-lg border border-gray-300 shadow-md my-6 text-center bg-indigo-500 cursor-pointer hover:shadow-xl",key:t.repoName},r.a.createElement("div",{className:"text-center bg-indigo-300 text-white text-5xl my-2 px-10 py-5 rounded shadow"},u),r.a.createElement("div",{className:"my-4 font-sans text-2xl text-white border-dashed border-b-2 pb-2 border-indigo-300"},t.repoName),r.a.createElement("div",{className:"w-full flex justify-center mx-auto my-2 text-center rounded-md shadow-sm align-middle"},r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-l-md my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},o.gitTotalCommits," Commits")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},o.gitTotalTrackedFiles," Tracked Files")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-r-md my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"mx-2  text-sm text-center font-sans text-center font-semibold"},o.gitCurrentBranch))))}function k(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),m=Object(i.a)(l,2),c=m[0],p=m[1],f=Object(n.useContext)(u).dispatch;Object(n.useEffect)((function(){var e=g,t=d.a.CancelToken.source();return d()({url:e,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),o(r),f({type:"DELETE_PRESENT_REPO",payload:[]}),f({action:"PRESENT_REPO",payload:[].concat(r)})}})),function(){t.cancel()}}),[c,f]);return r.a.createElement("div",{className:"flex flex-wrap mx-auto justify-center text-center align-middle"},c?r.a.createElement(j,{formEnable:function(e){p(e)}}):function(){var e=s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full mx-auto justify-around flex flex-wrap pb-40"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(w,{key:e.id,repoData:e})}))):r.a.createElement("div",{className:"mx-auto w-3/4 rounded-md text-center shadow bg-gray-200 text-gray-500 font-sans p-10 my-10 text-xl"},"No repos present. Press + to add a new repo"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"addRepoButton",className:"fixed bottom-0 right-0 mb-10 mr-10 cursor-pointer border-2 border-indigo-100 shadow-lg bg-indigo-500 hover:bg-indigo-400 rounded-full h-16 w-16 pb-1 flex items-center justify-center text-3xl text-white font-sans font-black",onClick:function(){p(!0)},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault();e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-48 mt-16 text-center font-sans font-medium border border-gray-300 text-sm my-2 fixed">Click to add a new repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"}},"+")))}())}function O(e){var t=e.params,a=t.platform,n=t.gitVersion,s=t.nodeVersion,o=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:s}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard-rightpane w-full mx-auto justify-center"},r.a.createElement("div",{className:"w-11/12 p-3 my-6 mx-auto rounded-lg shadow-md xl:flex lg:flex md:block sm:block rightpane-details block justify-between mx-auto bg-blue-100 border-2 border-blue-100"},o.map((function(e){return r.a.createElement("div",{key:e.label,className:"my-2 flex mx-auto justify-around items-center align-middle"},r.a.createElement("div",{className:"w-1/2 rightpane-details__header border-b-2 border-dashed mx-2 font-sans xl:font-bold lg:font-semibold md:font-medium xl:text-2xl lg:text-xl md:text-md"},e.label),""!==e.value?r.a.createElement("div",{className:"w-2/3 mx-2 bg-green-200 border-green-800 text-center text-green-900 p-2 rounded-lg hc-param",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("div",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&s)return r.a.createElement(k,{parentProps:e})}()))}function C(){return v.b.add(y.a,E.a),r.a.createElement("div",{className:"w-full h-full pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"flex text-5xl text-gray-700 mx-6 my-auto align-middle items-center"},r.a.createElement(N.a,{icon:["fas","question-circle"]}),r.a.createElement("div",{className:"my-5 mx-5 font-sans"},"Help and Support")),r.a.createElement("div",{className:"my-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans text-gray-900"},"Facing an issue or need any help?"),r.a.createElement("span",{className:"text-xl font-medium my-2"},"Before raising an issue, make sure you have gone through the"),r.a.createElement("span",{className:"font-mono text-xl mx-2 text-indigo-500 hover:text-indigo-600 hover:font-semibold cursor-pointer"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/blob/master/documentation",target:"_blank",rel:"noopener noreferrer"},"Documentation"))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-indigo-800"},"Have any queries or want to share your feedback?"),r.a.createElement("div",{className:"flex mx-auto my-2 items-center align-middle"},r.a.createElement("div",{className:"text-gray-800 text-2xl font-sans"},"Lets have a discussion on"),r.a.createElement("a",{href:"https://discord.gg/PSd2Cq9",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex mx-2 justify-around align-middle items-center bg-indigo-400 text-white p-2 rounded shadow-sm text-2xl cursor-pointer hover:bg-indigo-500"},r.a.createElement(N.a,{icon:["fab","discord"]}),r.a.createElement("div",{className:"mx-3 font-sans font-black"},"discord"))))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600"},"You can also use the github issue reporting feature to report any issue you find in the platform"),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex w-1/3 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 w-3/4 cursor-pointer hover:shadow-lg align-middle my-3 items-center p-3 bg-white shadow-md rounded border border-gray-500"},r.a.createElement(N.a,{icon:["fab","github"]}),r.a.createElement("div",{className:"mx-2"},"Report an issue")))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600 my-5 break-normal"},"gitconvex is open source and please visit the repo if you are interested in contributing to the platform"),r.a.createElement("div",{className:"xl:flex lg:block md:block justify-center items-center align-middle"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-blue-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(N.a,{icon:["fab","react"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex UI")),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-server",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-green-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(N.a,{icon:["fab","node-js"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex server")))))}var S=a(22),T=a.n(S),I=a(5),R=a(27),F=a(20),_=(a(41),a(513));function A(){var e=Object(n.useContext)(u),t=e.state,s=e.dispatch,o=t.globalRepoId,l=Object(n.useState)([]),m=Object(i.a)(l,2),c=m[0],p=m[1],f=Object(n.useState)("Click on a file item to see the difference"),b=Object(i.a)(f,2),x=b[0],h=b[1],j=Object(n.useState)([]),v=Object(i.a)(j,2),E=v[0],y=v[1],N=Object(n.useState)(""),w=Object(i.a)(N,2),k=w[0],O=w[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),A=S[0],P=S[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),L=q[0],G=q[1],M=Object(n.useState)(""),B=Object(i.a)(M,2),H=B[0],J=B[1],U={js:"javascript",java:"java",py:"python",c:"c",cpp:"cpp",go:"go",rust:"rust",ts:"typescript",dart:"dart",php:"php",html:"markup",json:"json",xml:"markup",yaml:"yaml",yml:"yaml",rb:"ruby",jsx:"jsx",kt:"kotlin",ktm:"kotlin",kts:"kotlin",cs:"csharp",vb:"visual-basic",css:"css"};Object(n.useEffect)((function(){var e=t.globalRepoId;G(!1),O(""),y("Click on a file item to see the difference"),h("Click on a file item to see the difference");var a=g;if(e){var n=JSON.stringify(JSON.stringify({repoId:e}));d()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(n,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;p(Object(I.a)(t)),P(!0),s({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,s]);var V=function(e){var t=e.split(".")[e.split(".").length-1];if(t)return G(!0),t in U?U[t]:"markup"};return r.a.createElement(r.a.Fragment,null,c&&c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex mx-auto w-full justify-center"},r.a.createElement("div",{className:"break-words p-2 py-2 bg-indigo-200 text-indigo-800 w-1/4 overflow-hidden"},r.a.createElement(r.a.Fragment,null,c.length>=1&&c.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===k?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){O(t),function(e,t){var n=g;G(!1);var r=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));d()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(r,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(R.a)(T.a.mark((function e(n){var r,s,o,i,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.data.data.gitConvexApi.gitFileLineChanges,s=r.diffStat,o=r.fileDiff,h(s[1]),y(o),i=V(t),l="prismjs/components/prism-"+i+".js",e.next=7,a(74)("./prism-"+i+".js").then((function(){console.log("Package lang loaded : ",l)})).catch((function(e){console.log(e)}));case 7:J(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}(o,t)},key:t},t)}return null})))),k?"":r.a.createElement("div",{className:"p-3 shadow-md rounded-sm text-center mx-auto my-auto mt-3 block text-md font-sans"},"Click on a file to see difference information"),x&&"Click on a file item to see the difference"!==x?r.a.createElement("div",{className:"p-2 break-all w-3/4 mx-auto"},x?function(){if(x&&x.includes(",")){var e=x.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"},"insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"},"deletions (-)"))})))}}():"",E&&"Click on a file item to see the difference"!==E?r.a.createElement("div",{className:"p-2 py-6 mt-6 text-left break-words overflow-scroll"},function(){var e=[];return E&&E.join("").split(/@@.*@@/gi)&&L&&H&&(e=E.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return"+"===e[0]?r.a.createElement("div",{className:"bg-green-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("+",""),F.languages[H],H)}}))):"-"===e[0]?r.a.createElement("div",{className:"bg-red-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("-",""),F.languages[H],H)}}))):r.a.createElement("div",{className:"bg-white-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e,F.languages[H],H)}})))}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},r.a.createElement("code",null,e))}()):""):"")):r.a.createElement(r.a.Fragment,null,A?r.a.createElement("div",{className:"my-3 mx-auto text-center p-3 rounded-md shadow-md bg-pink-200 text-gray-700"},r.a.createElement("span",null,"No Changed files are being tracked currently!")):null))}function P(e){var t=e.repoId,a=Object(n.useState)(!0),s=Object(i.a)(a,2),o=s[0],l=s[1],m=Object(n.useState)([]),c=Object(i.a)(m,2),u=c[0],p=c[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],j=Object(n.useState)(!1),v=Object(i.a)(j,2),E=v[0],y=v[1],N=Object(n.useState)(!1),w=Object(i.a)(N,2),k=w[0],O=w[1],C=Object(n.useRef)();return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;l(!1),t&&t.length>0&&p(Object(I.a)(t))})).catch((function(e){l(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"w-3/4 mx-auto my-auto bg-gray-200 p-6 rounded-md"},u&&u.length>0?function(){if(u&&u.length>0){var e=u.length;return r.a.createElement(r.a.Fragment,null,x?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes are committed!"):r.a.createElement("div",{className:"p-3 mx-auto w-5/6 block justify-center"},r.a.createElement("div",{className:"text-2xl my-2 font-sans font-semibold"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},u.map((function(e){return r.a.createElement("div",{className:"m-1 mx-auto w-11/12 break-all border-b text-left font-sans text-gray-700",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"p-2 rounded-md shadow-md text-gray-900 font-sans w-full outline-none",placeholder:"Enter commit message",cols:"20",rows:"5",ref:C}),E?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Commit Failed!"):null,k?r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-gray-400 hover:bg-gray-700 rounded shadow w-full cursor-pointer text-white"},"Committing Changes..."):r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-green-400 hover:bg-green-700 rounded shadow w-full cursor-pointer text-white",onClick:function(e){var a=C.current.value;a?function(e){O(!0),e.split("\n")&&e.split("\n").length>0&&(e=e.toString().split("\n").join("||")),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){O(!1),e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?h(!0):y(!0)})).catch((function(e){O(!1),y(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"bg-orange-200 rounded-md shadow-md p-4 text-2xl font-sans text-center font-bold text-orange-700"},o?r.a.createElement("span",null,"Loading Commits..."):r.a.createElement("span",null,"No Staged files to commit")))}function D(e){var t=e.repoId,a=Object(n.useState)(),s=Object(i.a)(a,2),o=s[0],l=s[1],m=Object(n.useState)(!1),c=Object(i.a)(m,2),u=c[0],p=c[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],j=Object(n.useState)([]),v=Object(i.a)(j,2),E=v[0],y=v[1],N=Object(n.useState)(!1),w=Object(i.a)(N,2),k=w[0],O=w[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)(!1),_=Object(i.a)(F,2),A=_[0],P=_[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),L=q[0],G=q[1],M=Object(n.useRef)(),B=Object(n.useRef)();function H(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,s=t[a],r.a.createElement("div",{className:"flex justify-evenly",key:n},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},s));var n,s})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;l(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,T?r.a.createElement("div",{className:"w-1/2 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded shadow"},"All commits are pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){p(!0)},ref:M},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select the remote repo"),o?function(){if(o){var e=o.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),u?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){h(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&O(!0),y(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:B},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),o?function(){if(o)return o.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,E&&E.length>0?r.a.createElement("div",{className:"my-2 p-3 rounded bg-gray-300 shadow-md border-gray-100"},r.a.createElement("div",{className:"my-2 font-sans text-2xl font-semibold"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},E.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"my-2 border-b-2 block justify-evenly mx-auto"},H(e))})))):r.a.createElement("div",null),A?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Push Failed!")):null,u&&x&&E.length>0&&!L?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(){var e,a,n=M.current.value,r=B.current.value;n&&r&&(e=n,a=r,G(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"PUSH_FAILED"!==e.data.data.pushToRemote?(R(!0),G(!1)):(P(!0),G(!1))})).catch((function(e){P(!0),G(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,k?r.a.createElement("div",{className:"my-4 text-center bg-gray-500 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-gray-600 cursor-pointer"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,L?r.a.createElement("div",{className:"my-4 text-center border border-orange-800 text-orange-900 bg-orange-300 rounded shadow text-white text-xl font-sans p-2 mx-auto cursor-pointer"},"Pushing to remote..."):null))))}function q(e){var t=e.stageComponents,a=e.repoId,s=Object(n.useState)(!1),o=Object(i.a)(s,2),l=o[0],m=o[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),p=u[0],f=u[1],b=Object(n.useState)(!1),x=Object(i.a)(b,2),h=x[0],j=x[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-5/6 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement(r.a.Fragment,null,t.length>0&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-5 font-sans text-2xl font-sans font-bold"},"All these changes will be staged:"),t&&t.map((function(e){return r.a.createElement("div",{className:"p-1 font-sans text-lg mx-4 border-b w-11/12 break-words",key:e},e)})),h?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Staging Failed!"):null,p?r.a.createElement("div",{className:"mx-auto my-4 text-center bg-gray-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-gray-400 cursor-pointer"},"Staging in prgoress..."):r.a.createElement("div",{className:"mx-auto my-4 text-center bg-green-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-green-400 cursor-pointer",onClick:function(){f(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){f(!1),e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&m(!0)})).catch((function(e){f(!1),j(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."),l?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes Staged!"):null)))}function L(e){v.b.add(E.a);var t=e.repoId,a=Object(n.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1],m=Object(n.useState)([]),c=Object(i.a)(m,2),u=c[0],p=c[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),x=b[0],h=b[1],j=Object(n.useState)([]),y=Object(i.a)(j,2),N=y[0],w=y[1],k=Object(n.useState)(0),O=Object(i.a)(k,2),C=O[0],S=O[1],T=Object(n.useState)(""),R=Object(i.a)(T,2),F=R[0],_=R[1],A=Object(n.useState)([]),L=Object(i.a)(A,2),G=L[0],M=L[1];Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;l(Object(I.a)(t.gitChangedFiles)),p(Object(I.a)(t.gitUntrackedFiles));var a=Object(I.a)(t.gitChangedFiles),n=Object(I.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),w([].concat(r))}})).catch((function(e){})),function(){a.cancel()}}),[e,C,F]),Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&M(Object(I.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[N,e.repoId,C]);function B(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-yellow-700 border border-yellow-500 rounded-md shadow-sm"},"Modified"):r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-indigo-700 border border-indigo-500 rounded-md shadow-sm"},"Untracked")},n=function(e){return r.a.createElement("div",{className:"p-1 mx-auto cursor-pointer bg-green-300 text-white w-2/3 rounded-md shadow-sm hover:shadow-md hover:bg-green-600",onClick:function(a){!function(e,a){S(C+1),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e)}))}(e)}},"Add")};return o&&o.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),u&&u.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,x?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(h(""),S(C+1),M([]))}},function(e){switch(e){case"stage":return N&&N.length>0?r.a.createElement(q,{repoId:t,stageComponents:N}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."));case"commit":return r.a.createElement(P,{repoId:t});case"push":return r.a.createElement(D,{repoId:t});default:return null}}(x),r.a.createElement("div",{className:"float-right fixed right-0 top-0 font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){h("")}},"X")):null,r.a.createElement("div",{className:"my-2 flex mx-auto p-3 justify-around"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"my-auto align-middle item-center w-1/4 text-center p-2 rounded-md bg-0 border border-".concat(a,"-500 text-").concat(a,"-700 font-sans cursor-pointer hover:bg-").concat(a,"-500 hover:text-white"),key:n,onClick:function(){return h(n)}},t)}))),B()&&B().length>0?r.a.createElement("div",{className:"p-2 mx-auto rounded shadow border"},r.a.createElement("div",{className:"table-header flex justify-between w-full bg-orange-300 p-3 text-xl font-sans"},["Changes","File Status","Action"].map((function(e,t){return r.a.createElement("div",{key:e,className:"font-bold text-center border-r border-gray-200 ".concat(0===t?"w-3/4":"w-1/4")},e)}))),r.a.createElement("div",{className:"block table-rows w-full overflow-auto",style:{height:"400px"}},r.a.createElement("div",null,B()&&B().map((function(e,t){return r.a.createElement("div",{className:"flex font-sans p-3 border-b-2 border-b border-gray-300",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("div",{key:"".concat(e,"-").concat(t),className:"break-all items-center align-middle my-auto ".concat(0===t?"w-3/4 text-left":"w-1/4 text-center")},e)})))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-2 mx-auto my-10 bg-orange-300 text-xl text-center rounded shadow"},"No files to stage")),r.a.createElement(r.a.Fragment,null,G?function(){if(G&&G.length>0)return r.a.createElement("div",{className:"w-full mx-auto my-20 p-2 border border-gray-200 rounded"},r.a.createElement("div",{className:"flex items-center align-middle my-4"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"p-2 rounded text-white bg-red-700 text-xl rounded shadow cursor-pointer hover:bg-red-800",onClick:function(e){S(C+1),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){S(C+1),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&M([])})).catch((function(e){}))}},"Remove All Items")),r.a.createElement("div",{className:"flex mx-auto p-2 text-center font-sans text-lg text-white bg-indigo-400 rounded"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/2"},"Action")),r.a.createElement("div",{className:"block mx-auto overflow-auto",style:{height:"450px"}},G.map((function(e){return e?r.a.createElement("div",{className:"flex mx-auto my-4 border-b my-auto items-center align-middle py-4",key:e},r.a.createElement("div",{className:"w-3/4 break-all mx-4 text-xl text-gray-800 font-sans"},e),r.a.createElement("div",{className:"w-1/2 mx-auto"},r.a.createElement("div",{className:"mx-auto w-1/2 text-white cursor-pointer break-all text-center p-2 rounded bg-red-500 shadow hover:bg-red-600 hover:shadow-md",onClick:function(a){!function(e,a){S(C+1),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(S(C+1),t.data.data&&!t.data.error&&"STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=G;a=a.filter((function(t){return t!==e})),M(Object(I.a)(a))}})).catch((function(e){}))}(e)}},"Remove"))):null}))))}():null))}function G(e){v.b.add(E.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)([]),m=Object(i.a)(l,2),c=m[0],p=m[1],f=Object(n.useState)("File View"),b=Object(i.a)(f,2),x=b[0],h=b[1],j=["File View","Git Difference","Git Operations"],y=Object(n.useState)(!1),w=Object(i.a)(y,2),k=w[0],O=w[1],C=Object(n.useContext)(u).dispatch,S=Object(n.useMemo)((function(){return r.a.createElement(A,{repoId:e.repoId})}),[e]),T=Object(n.useMemo)((function(){return r.a.createElement(L,{repoId:e.repoId})}),[e]);return Object(n.useEffect)((function(){var t=g,a=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles;(a||n)&&(a.length>0||n.length>0)?(o(Object(I.a)(a)),p(Object(I.a)(n)),O(!1),C({type:"GIT_TRACKED_FILES",payload:a}),C({type:"GIT_ACTION_TRACKED_FILES",payload:Object(I.a)(a)}),C({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(I.a)(n)})):O(!0)}})).catch((function(e){O(!0)}))}),[e,C]),r.a.createElement(r.a.Fragment,null,k?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"},T),r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-pink-200 text-xl text-pink-600"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(N.a,{icon:["fab","creative-commons-zero"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block text-6xl text-gray-200 mx-auto text-center align-middle"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 mx-auto w-11/12 justify-around font-sans font-semibold rounded-sm shadow-md cursor-pointer"},j.map((function(e){var t="w-full py-3 px-1 text-center border-r border-blue-400 ";return t+=e===x?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"w-full py-3 px-1 text-center border-r border-blue-400 hover:bg-blue-200 hover:text-blue-900 ".concat(t),key:e,onClick:function(t){h(e)}},e)})))),r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"}," ",function(){switch(x){case"File View":if(!k)return r.a.createElement("div",{className:"shadow-sm rounded-sm my-2 block justify-center mx-auto border border-gray-300"},s?function(){var e=[],t=[];if(s&&s.length>0)return s.forEach((function(a,n){var s=a.split(","),o=s[0],i=s[1],l="p-1 ";switch(o){case"M":l+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},i),r.a.createElement("div",{className:"rounded-lg shadow-sm border border-gray-300 p-2 text-center w-1/6 my-auto"},"Modified")));break;case"D":l+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12")}," ",i," "),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6"},"Deleted")));break;default:l+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),c?function(){var e=[],t=[];return c.forEach((function(a){var n=a.split(",");n&&(e.push(r.a.createElement("div",{className:"font-sans font-semibold"},"NO_DIR"!==n[0]?n[0]:"./")),t.push(r.a.createElement("div",{className:"font-sans"}," ",n[1]," ")))})),e.map((function(a,n){return r.a.createElement("div",{className:"flex",key:"".concat(a,"-").concat(n)},r.a.createElement("div",{className:"bg-indigo-100 text-indigo-800 flex p-2 block w-11/12"},e[n]," ",t[n]),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 text-sm"},"New / Untracked"))}))}():null);break;case"Git Difference":if(!k)return S;break;case"Git Operations":return T;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}function M(){v.b.add(y.a);var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,s=t.presentRepo,o=Object(n.useState)(!1),l=Object(i.a)(o,2),m=l[0],c=l[1],p=Object(n.useState)({}),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)([]),j=Object(i.a)(h,2),E=j[0],w=j[1],k=Object(n.useState)(""),O=Object(i.a)(k,2),C=O[0],S=O[1],F=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),_=Object(i.a)(F,2),A=_[0],P=_[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),L=q[0],M=q[1],B=Object(n.useMemo)((function(){if(b&&b.id)return r.a.createElement(G,{repoId:b.id})}),[b]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex p-2 border-b-2 border-indigo-400 border-dashed justify-between mx-2 font-sans text-lg text-gray-700"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(N.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();function t(){var t=b&&b.id;if(t){var a=JSON.stringify(JSON.stringify({repoId:t}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:e.token,data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function n(){return(n=Object(R.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:Object(I.a)(n)}),x(n[0]),w(n),n}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s&&s[0]?(w(s[0]),t()):(!function(){n.apply(this,arguments)}(),t()),function(){e.cancel()}}),[b,C,s,a,L]),r.a.createElement("div",{className:"w-full mx-auto block justify-center overflow-x-hidden"},E?r.a.createElement("div",null,r.a.createElement("div",{className:"mx-auto my-6 w-11/12 rounded shadow border border-gray-200"},r.a.createElement("div",{className:"flex justify-around mx-auto align-middle items-around my-4"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Choose saved repository"),r.a.createElement("select",{className:"bg-green-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-green-500",defaultValue:"checked",onChange:function(e){c(!0),E.length&&E.forEach((function(t){e.target.value===t.repoName&&(x(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),E.length&&E.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),m?r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Branch"),r.a.createElement("select",{className:"bg-indigo-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-indigo-500",defaultValue:"checked",onChange:function(e){e.persist(),S(e.currentTarget.value),function(e,t){d()({url:g,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(b.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&S(e)})).catch((function(e){e&&(M(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){M(!1)}},function(){if(A&&A.gitBranchList)return A.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),A&&m?r.a.createElement("div",{className:"my-auto flex justify-around p-3 mx-auto"},H("code-branch",A.gitBranchList&&A.gitBranchList.length>0&&!A.gitBranchList[0].match(/NO_BRANCH/gi)?r.a.createElement(r.a.Fragment,null,1===A.gitBranchList.length?"1 branch":A.gitBranchList.length+" branches"):"No Branches"),H("sort-amount-up",A.gitTotalCommits+" Commits"),H("archive",A.gitTotalTrackedFiles+" Tracked Files")):null),m?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-orange-200 text-xl text-orange-900"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(N.a,{icon:["fas","mouse-pointer"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block xl:text-6xl lg:text-3xl md:text-2xl my-4 text-gray-200 mx-auto text-center align-middle"},"No repositories selected"))),r.a.createElement("div",null,L?r.a.createElement("div",{className:"p-2 rounded my-2 mx-auto text-center font-sand bg-red-200 text-red-800"},"Branch switching failed.Commit your changes and try again"):null,A&&m&&b.id?B:null)):null)}function B(e){v.b.add(E.a,y.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),m=Object(i.a)(l,2),c=m[0],u=m[1];return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n        query GitConvexApi\n        {\n            gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                gitCommitLogs {\n                    commits{\n                        commitTime\n                        hash\n                        author\n                        commitMessage\n                    }  \n                }\n            }\n        }\n        ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitCommitLogs.commits;t&&t.length>0?o(t):u(!0)})).catch((function(e){e&&(u(!0),console.log(e))}))}),[e]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:"p-3 rounded-md shadow-sm block justify-center mx-auto my-4 bg-white w-3/4 text-center"},"No Commit Logs found"):null,s&&s.map((function(e){var t=e.hash,a=e.author,n=e.commitTime,s=e.commitMessage;return r.a.createElement("div",{className:"p-3 pb-6 rounded-md shadow-sm block justify-center mx-auto my-4 bg-white w-full border-b-4 border-blue-400",key:t},r.a.createElement("div",{className:"p-2 text-2xl font-sans text-left"},r.a.createElement(N.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"mx-2"},n)),r.a.createElement("div",{className:"p-3 m-3 text-xl text-gray-700 font-sans"},s),r.a.createElement("div",{className:"flex justify-center text-center"},r.a.createElement("div",{className:"rounded-l p-2 shadow-sm bg-indigo-200 text-xl font-sans ont-semibold text-indigo-900 w-1/2"},r.a.createElement(N.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"mx-2"},t)),r.a.createElement("div",{className:"rounded-r p-2 shadow-sm bg-indigo-200 text-xl font-sans ont-semibold text-indigo-900 w-1/2"},r.a.createElement(N.a,{icon:["fas","at"]}),r.a.createElement("span",{className:"mx-2"},a))))})))}function H(e){v.b.add(E.a,y.a);var t=Object(n.useState)({}),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),m=Object(i.a)(l,2),c=m[0],u=m[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)(!1),j=Object(i.a)(h,2),w=j[0],k=j[1],O=Object(n.useState)(!1),C=Object(i.a)(O,2),S=C[0],T=C[1],R=Object(n.useState)(0),F=Object(i.a)(R,2),A=F[0],P=F[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),L=q[0],G=q[1],M=Object(n.useState)(""),H=Object(i.a)(M,2),J=H[0],U=H[1],V=Object(n.useMemo)((function(){return r.a.createElement(B,{repoId:b})}),[b]),z=Object(n.useMemo)((function(){return r.a.createElement(Y,{repoId:b})}),[b]),K=Object(n.useMemo)((function(){return r.a.createElement(X,{repoId:b})}),[b]);function Y(e){var t=e.repoId,a=Object(n.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              fetchFromRemote(repoId: "'.concat(t,'"){\n                status\n                fetchedItems\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.fetchFromRemote;if("FETCH_ABSENT"===t.status)l([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to Fetch from remote")]);else if("FETCH_ERROR"===t)l([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while fetching from remote!")]);else{var a=t.fetchedItems;l(Object(I.a)(a))}}})).catch((function(e){l([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while fetching from remote!")])}))}),[t]),r.a.createElement("div",{className:"w-5/6 mx-auto my-auto bg-gray-200 p-6 rounded-md pb-10"},r.a.createElement("div",{className:"mx-3 my-3 text-3xl font-sans text-gray-800"},"Fetch Result"),o&&o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3 rounded shadow bg-indigo-100 text-md font-sans text-gray-700"},o.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 break-normal",key:e+"-".concat(Object(_.a)())},e)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"rounded mx-auto p-4 my-auto w-11/12 shadow bg-orange-200 border-orange-700 text-xl font-sand font-semibold"},"Fetching changes from remote...")))}function X(e){var t=e.repoId,a=Object(n.useState)([]),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              pullFromRemote(repoId: "'.concat(t,'"){\n                status\n                pulledItems\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.pullFromRemote;if("PULL_FAILED"===t.status)l([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while pulling from remote!")]);else if("PULL_EMPTY"===t.status)l([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to Pull from remote")]);else{var a=t.pulledItems;l(Object(I.a)(a))}}})).catch((function(e){console.log(e),l([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while pulling from remote!")])}))}),[t]),r.a.createElement("div",{className:"w-5/6 mx-auto my-auto bg-gray-200 p-6 rounded-md pb-10"},r.a.createElement("div",{className:"mx-3 my-3 text-3xl font-sans text-gray-800"},"Pull Result"),o&&o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3 rounded shadow bg-indigo-100 text-md font-sans text-gray-700"},o.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 truncate ...",key:e},e)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"rounded mx-auto p-4 my-auto w-11/12 shadow bg-orange-200 border-orange-700 text-xl font-sand font-semibold"},"Pulling changes from remote...")))}Object(n.useEffect)((function(){var t=g;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];x(a);var n=JSON.stringify(JSON.stringify({repoId:a}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData;t.includes("||")&&(T(!0),e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData=t.split("||")[0],T(!0),P(t.split("||").length)),o(e.data.data.gitConvexApi.gitRepoStatus)}else u(!0)})).catch((function(e){e&&(console.log("API GitStatus error occurred : "+e),u(!0))}))}}),[e.parentProps,L]);var W=s.gitRemoteData,$=s.gitRepoName,Q=s.gitBranchList,Z=s.gitCurrentBranch,ee=s.gitRemoteHost,te=s.gitTotalCommits,ae=s.gitLatestCommit,ne=s.gitTrackedFiles,re=s.gitFileBasedCommit;function se(e){var t=e.repoId,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1],m=Object(n.useState)(""),c=Object(i.a)(m,2),u=c[0],p=c[1],f=Object(n.useRef)();function b(){f.current.value="",l("")}return r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("input",{type:"text",ref:f,placeholder:"Branch Name",className:"p-3 rounded bg-white text-xl text-gray-700 font-sans font-mono w-full border border-grau-200 shadow",onChange:function(e){l(e.target.value)},onClick:function(){p("")}})),r.a.createElement("div",{className:"bg-indigo-500 p-3 rounded mt-6 mx-auto text-xl font-sans text-white hover:bg-indigo-600 text-center mx-auto cursor-pointer",onClick:function(e){o?(console.log(o),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              addBranch(repoId: "'.concat(t,'", branchName: "').concat(o,'")\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.addBranch;p(t),b()}else p("BRANCH_ADD_FAILED"),b()})).catch((function(e){p("BRANCH_ADD_FAILED"),b()}))):p("BRANCH_ADD_FAILED")}},"Add Branch"),"BRANCH_CREATION_SUCCESS"===u?r.a.createElement("div",{className:"w-1/2 bg-green-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch has been added to your repo successfully"):null,"BRANCH_ADD_FAILED"===u?r.a.createElement("div",{className:"w-1/2 bg-red-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch addition failed!"):null))}return r.a.createElement(r.a.Fragment,null,L?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"repo-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"repo-backdrop"===e.target.id&&(G(!1),U(""))}},r.a.createElement(r.a.Fragment,null,"fetch"===J?z:null),r.a.createElement(r.a.Fragment,null,"pull"===J?K:null),r.a.createElement(r.a.Fragment,null,"addBranch"===J?r.a.createElement(se,{repoId:b}):null),r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){G(!1),U("")}},"X")):null,r.a.createElement("div",{className:"w-full fixed bg-gray-600 opacity-50"}),r.a.createElement("div",{className:"rp_repo-view w-screen h-screen p-6 mx-auto rounded-lg justify-evenly overflow-auto"},s&&!c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex px-3 py-2"},s?r.a.createElement("div",{className:"align-middle items-center mx-auto w-full flex rounded-md shadow-md border-2 border-gray-100 p-4 justify-evenly"},r.a.createElement("div",{className:"text-md p-2 mx-2"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 p-3 rounded-sm border border-blue-200"},$),r.a.createElement("div",{className:"text-md p-2 mx-2"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 rounded-sm text-orange-900 p-3 border border-orange-400"},Z)):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"xl:flex lg:block md:block sm:block my-4 mx-auto justify-around"},s?function(){var e="";return ee?(e=ee.match(/github/i)?r.a.createElement(N.a,{icon:["fab","github"],className:"text-2xl text-center text-pink-500"}):ee.match(/gitlab/i)?r.a.createElement(N.a,{icon:["fab","gitlab"],className:"text-2xl text-center text-pink-400"}):ee.match(/bitbucket/i)?r.a.createElement(N.a,{icon:["fab","bitbucket"],className:"text-2xl text-center text-pink-400"}):ee.match(/codecommit/i)?r.a.createElement(N.a,{icon:["fab","aws"],className:"text-2xl text-center text-pink-400"}):r.a.createElement(N.a,{icon:["fab","git-square"],className:"text-2xl text-center text-pink-400"}),r.a.createElement(r.a.Fragment,null,w?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-screen left-0 top-0 right-0 bottom-0 overflow-auto p-6",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&k(!1)}},r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){k(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-3/4 block mx-auto"},V))):null,r.a.createElement("div",{className:"block rounded-md w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-evenly p-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"Remote Host"),r.a.createElement("div",{className:"text-center w-1/2 flex justify-center rounded-md border-2 shadow-md text-center items-center align-middle border-gray-200"},r.a.createElement("div",{className:"p-3"},e),r.a.createElement("div",{className:"text-center text-lg"},ee))),r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"".concat(ee," URL")),r.a.createElement("div",{className:"text-blue-400 hover:text-blue-500 cursor-pointer w-1/2 break-words"},W)),r.a.createElement("div",{className:"flex justify-evenly my-1"},S?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"font-sans text-gray-800 font-semibold w-1/4 border-dotted border-b-2 border-gray-200"},"Entry truncated!"),r.a.createElement("div",{className:"w-1/2 border-dotted border-b-2 border-gray-200"},"Remote repos : ".concat(A))):null)),r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly my-3"},r.a.createElement("div",{className:"w-1/4 text-md text-gray-600"},"Commit Logs"),r.a.createElement("div",{className:"w-1/2 rounded-md shadow-md p-3 text-center bg-orange-300 cursor-pointer",onClick:function(e){k(!0)}},"Show Commit Logs"))))),r.a.createElement("div",{className:"block rounded-md w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",{className:"block mx-auto my-2"},r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Total Commits"),r.a.createElement("div",{className:"text-left text-md text-bold text-black-800 w-1/2"},"".concat(te," Commits"))),r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Latest Commit"),r.a.createElement("div",{className:"text-left text-sm text-bold text-black-900 w-1/2 truncate ..."},ae)),r.a.createElement("div",{className:"flex justify-around mx-auto my-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Available Branches"),r.a.createElement("div",{className:"w-1/2 flex justify-evenly align-middle items-center"},r.a.createElement("div",{className:"w-3/4 my-auto"},Q&&Z&&Q.map((function(e){return e===Z?r.a.createElement("div",{className:"text-lg font-semibold text-indigo-500",key:"".concat(e,"-").concat(Object(_.a)())},e):r.a.createElement("div",{className:"my-1 font-sans font-semibold",key:"entry-key-".concat(Object(_.a)())},e)}))),r.a.createElement("div",{id:"addBranch",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){G(!0),U("addBranch")}},"+"))),r.a.createElement("div",{className:"flex justify-around mx-auto mt-4"},r.a.createElement("div",{className:"w-1/3 rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white font-sans nowrap",onClick:function(){G(!0),U("fetch")}},"Fetch from remote"),r.a.createElement("div",{className:"w-1/3 text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 font-sans",onClick:function(){G(!0),U("pull")}},"Pull from remote")))))):r.a.createElement("div",{className:"p-6 bg-orange-300 text-orange-900 my-4 rounded-lg shadow-md border border-gray-300"},"Fetching details from server...")}():null)),r.a.createElement("div",{className:"block w-11/12 my-6 mx-auto justify-center p-6 rounded-lg bg-gray-100 p-2 shadow-md overflow-auto"},s?function(){if(ne&&ne.length>0&&"NO_TRACKED_FILES"!==ne[0]){var e=[],t=[],a=[];return ne.forEach((function(e,n){var s=e.split(":");s[1].includes("directory")?t.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"directory-key-".concat(Object(_.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(N.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans"},s[0]),r.a.createElement("div",{className:"w-2/4 p-2 bg-green-200 text-green-900 truncate ... rounded-lg text-left mx-auto w-3/5"},re[n]?re[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null)))):a.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"file-key-".concat(Object(_.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(N.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans"},s[0]),r.a.createElement("div",{className:"w-2/4 p-2 bg-indigo-200 truncate ... text-indigo-900 rounded-lg text-left mx-auto w-3/5"},re[n]?re[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"block mx-auto justify-center p-2 text-blue-600 cursor-pointer hover:text-blue-700 overflow-auto",key:"repo-key"},r.a.createElement("div",{className:"flex justify-around w-full p-2 mx-auto pb-6 border-b border-blue-400"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("div",{className:"w-2/4"},"File / Directory"),r.a.createElement("div",{className:"w-2/4"},"Latest commit")),e)}return ne&&"NO_TRACKED_FILES"===ne[0]?r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"No Tracked Files in the repo!"):r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"Loading tracked files...")}():null)):r.a.createElement("div",{className:"text-center mx-auto rounded-lg p-3 shadow-md border border-indigo-200 text-indigo-800"},"Fetching repo details..."),c?r.a.createElement("div",{className:"p-2 text-center mx-auto rounded-lg bg-red-200 text-xl"},"Repo details fetch failed!"):null))}function J(e){v.b.add(E.a,y.a);var t=Object(n.useRef)(),a=Object(n.useContext)(u),s=a.state,o=a.dispatch,l=s.presentRepo,m=Object(n.useState)(""),c=Object(i.a)(m,2),p=c[0],f=c[1],b=Object(n.useState)(0),x=Object(i.a)(b,2),h=x[0],j=x[1],w=Object(n.useState)([]),k=Object(i.a)(w,2),O=k[0],C=k[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),R=T[0],F=T[1],_=Object(n.useState)({}),A=Object(i.a)(_,2),P=A[0],D=A[1],q=Object(n.useState)(""),L=Object(i.a)(q,2),G=L[0],M=L[1],B=Object(n.useState)(0),H=Object(i.a)(B,2),J=H[0],U=H[1],V=Object(n.useState)(""),z=Object(i.a)(V,2),K=z[0],Y=z[1],X=Object(n.useState)(!1),W=Object(i.a)(X,2),$=W[0],Q=W[1],Z=Object(n.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){var e=d.a.CancelToken.source();return d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;f(a),Y(a),t.current.value=a}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;C(Object(I.a)(t))}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_PORT",'"){\n                settingsPortDetails\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsPortDetails;j(t)}})),function(){e.cancel()}}),[e,J]);return r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none",id:"settings-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"settings-backdrop"===e.target.id&&(M(""),F(!1),U(J+1))}},P?function(){var e=["Repo ID","Repo Name","Repo Path","Timestamp"],t=[];return Object.keys(P).forEach((function(a,n){t.push({label:e[n],value:P[a]})})),r.a.createElement("div",{className:"w-3/4 p-6 mx-auto my-auto rounded shadow bg-white"},r.a.createElement("div",{className:"mx-4 my-2 text-3xl font-sans text-gray-900"},"The repo below will be removed from Gitconvex records."),r.a.createElement("div",{className:"mx-4 my-1 text-md font-light w-5/6 font-sans italic text-gray-800"},"This will not delete the actual git folder. Just the record from the gitconvex server will be removed"),r.a.createElement("div",{className:"my-2 mx-auto block justify-center w-3/4 p-2"},t.map((function(e){return r.a.createElement("div",{className:"mx-auto flex p-2 font-sans",key:e.label},r.a.createElement("div",{className:"w-2/4 font-semibold"},e.label),r.a.createElement("div",{className:"w-2/4"},e.value))}))),"lodaing"!==G&&"success"!==G?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 rounded shadow bg-red-400 hover:bg-red-500 text-white text-xl",onClick:function(){!function(){M("loading");var e=P.id,t=P.repoName,a=P.repoPath,n=P.timeStamp;d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            deleteRepo(repoId: "'.concat(e,'", name: "').concat(t,'", pathName: "').concat(a,'", time: "').concat(n,'"){\n              status\n              repoId\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.eror){var t=e.data.data.deleteRepo,a=t.status,n=t.repoId;if("DELETE_SUCCESS"===a){if(l&&l.length>0){var r=l[0];r=r.map((function(e){return e.id.toString()===n.toString()?null:e})),o({action:"DELETE_PRESENT_REPO",payload:Object(I.a)(r)})}M("success")}else M("failed")}})).catch((function(e){console.log(e),M("failed")}))}()}},"Confirm Delete"):null,"loading"===G?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 text-white rounded shadow bg-gray-400 hover:bg-gray-500 text-white text-xl"},"Deletion in progress"):null,"success"===G?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-green-300 text-green-600 my-4"},"Repo has been deleted!"):null,"failed"===G?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-red-300 my-4"},"Repo deletion failed!"):null)}():null,r.a.createElement("div",{className:"top-0 right-0 fixed float-right font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){F(!1),U(J+1)}},"X")):null,r.a.createElement("div",{className:"block w-full h-full pt-5 pb-10  xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(N.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-11/12"},p?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-2/3",ref:t,onChange:function(e){Y(e.target.value),Q(!1)}}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")),p!==K?r.a.createElement("div",{className:"my-4 text-center p-2 font-sans text-white border-green-400 border-2 bg-green-500 rounded-md cursor-pointer shadow w-1/4 hover:bg-green-600",onClick:function(){K&&d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                updateRepoDataFile(newDbFile: "'.concat(K.toString(),'")\n              }\n            ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.updateRepoDataFile;console.log(t),U(J+1)}else Q(!0)})).catch((function(e){console.log(e),Q(!0)})),Q(!1)}},"Update Data file"):null,$?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-2/3 text-center"},"Data file update failed"):null)):null,O?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,O&&O.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-full rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),O.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-full rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/2 hover:bg-red-400 cursor-pointer",onClick:function(t){F(!0),D(e)}},r.a.createElement(N.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null,r.a.createElement("div",{className:"my-2 mx-auto"},r.a.createElement("div",{className:"text-xl font-sans text-gray-800 my-2"},"Active Gitconvex port"),r.a.createElement("div",{className:"flex my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 xl:w-1/2 lg:w-1/3 md:w-1/2 sm:w-1/2 w-1/2",value:h,onChange:function(e){j(e.target.value)}}),r.a.createElement("div",{className:"p-2 text-center mx-4 rounded border text-white bg-indigo-500 xl:w-1/6 lg:w-1/6 md:w-1/5 sm:w-1/4 w-1/4 hover:bg-indigo-600 cursor-pointer",onClick:function(){h&&d()({url:g,method:"POST",data:{query:"\n              mutation GitConvexMutation{\n                settingsEditPort(newPort: ".concat(h,")\n              }\n            ")}}).then((function(e){e.data.data&&!e.data.error?console.log(e.data.data.settingsEditPort):te(!0)})).catch((function(e){console.log(e),ae(!0)}))}},"Update Port")),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"Make sure to restart the app and to change the port in the URL after updating it"),te?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-1/2 text-center"},"Port update failed"):null))))}function U(e){var t=Object(n.useContext)(u).state,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],c=s[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],j=Object(n.useState)(""),v=Object(i.a)(j,2),E=v[0],y=v[1],N=Object(n.useMemo)((function(){return r.a.createElement(H,{parentProps:e})}),[e]),w=Object(n.useMemo)((function(){return r.a.createElement(J,null)}),[]),k=Object(n.useMemo)((function(){return r.a.createElement(C,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck,s=d.a.CancelToken.source();a&&n&&r?(c(a),x(n),y(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(c(localStorage.getItem("OS_TYPE")),y(localStorage.getItem("NODE_VERSION")),x(localStorage.getItem("GIT_VERSION"))):d()({url:g,method:"POST",cancelToken:s.token,data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;c(JSON.parse(a).message),x(JSON.parse(n).message),y(JSON.parse(r).message)}})).catch((function(e){console.log(e)}));return function(){s.cancel()}}),[t.hcParams]);var S={platform:o,gitVersion:b,nodeVersion:E};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"xl:flex lg:flex md:block w-full h-screen"},r.a.createElement(h,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(O,{params:S});case"/dashboard/repository":return r.a.createElement(M,null);case"/dashboard/settings":return w;case"/dashboard/help":return k;default:return r.a.createElement(m.a,null,r.a.createElement(l.a,{exact:!0,path:"/dashboard/repository/:repoId"},N))}}()))}a(75);function V(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),m=Object(i.a)(l,2),c=m[0],p=m[1],f=Object(n.useContext)(u).dispatch;return Object(n.useEffect)((function(){var e=g;d()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;f({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),p(!0)}else o(!0)})).catch((function(e){console.log(e),o(!0)}))}),[f]),r.a.createElement(r.a.Fragment,null,c?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),s?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var z=a(9);function K(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(z.a)(Object(z.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,s=a.nodeCheck,o=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",o(n)),localStorage.setItem("GIT_VERSION",o(r)),localStorage.setItem("NODE_VERSION",o(s)),Object(z.a)(Object(z.a)({},e),{},{hcParams:{osCheck:o(n),gitCheck:o(r),nodeCheck:o(s)}});case"PRESENT_REPO":return Object(z.a)(Object(z.a)({},e),{},{presentRepo:[].concat(Object(I.a)(e.presentRepo),[t.payload])});case"DELETE_PRESENT_REPO":return Object(z.a)(Object(z.a)({},e),{},{presentRepo:Object(I.a)(t.payload)});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(z.a)(Object(z.a)({},e),{},{modifiedGitFiles:[].concat(Object(I.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(z.a)(Object(z.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(z.a)(Object(z.a)({},e),{},{gitTrackedFiles:[].concat(Object(I.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(z.a)(Object(z.a)({},e),{},{gitUntrackedFiles:[].concat(Object(I.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(z.a)({},e)}}function Y(e){var t=Object(n.useReducer)(K,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(i.a)(t,2),s=a[0],o=a[1];return r.a.createElement("div",{className:"App w-full h-full"},r.a.createElement(u.Provider,{value:{state:s,dispatch:o}},r.a.createElement(m.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:V}),r.a.createElement(l.a,{path:"/dashboard",component:U}),r.a.createElement(l.a,{path:"/dashboard/repository",exact:!0,component:U}),r.a.createElement(l.a,{path:"/dashboard/repository/*",component:U})))))}a(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.4be07638.chunk.js.map